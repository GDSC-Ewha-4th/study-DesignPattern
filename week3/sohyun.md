# 디자인패턴 스터디 3차시

# 오늘의 질문 리스트
## 116p. 뇌단련에서 맨 처음 제시한 디자인은 우리가 배웠던 디자인 가운데 어떤 디자인을 지키지 않고 있는 것일까?
처음에 제시된 디자인

<img width="712" alt="image" src="https://user-images.githubusercontent.com/79795051/235409595-137cbba2-3aeb-4add-be32-a5d758aeca36.png">

1. 상속보다는 구성을 활용한다 -> 많은 제품이 상속을 하고 있기 때문에 지켜지고 않다.

2. 달라지는 부분을 찾아내고 달라지지 않는 부분은 분리한다.

### 그러면 느슨한 결합은? 
객체에 국한되지 않고 자유롭게 옵션이 추가되고 지워질 수 있고, 그 주제는 그 옵션에 대한 추가 여부를 알지 않아도 됨! 

그래서 느슨한 결합은 지켜지고 있다고 볼 수 있다.

## OCP를 준수하는 실제 프로젝트 사례에는 어떤 것이 있을까?
DBC를 사용하는 클라이언트는 데이터베이스가 오라클에서 MySQL로 바뀌더라도 Connection을 설정하는 부분 외에는 따로 수정할 필요가 없다. 

Connection 설정 부분을 별도의 설정 파일로 분리해두면 클라이언트 코드는 단 한줄도 변경할 필요가 없다. 

JDBC뿐만 아니라 iBatis, MyBatis, 하이버네이트 등등 데이터베이스 프로그래밍을 지원하는 라이브러리와 프레임 워크에서도 개방 폐쇄 원칙의 예를 볼 수 있다.
## 127p. 원래 데코레이터 패턴에서는 특정한 추상 구성 요소를 지정할 필요가 없고 인터페이스를 쓰면 된다고 했는데, 예시처럼 추상 클래스를 쓰지 않는 경우에는 일반적으로 인터페이스를 사용하는 것이 데코레이터 패턴을 사용하는 것과 동일한 의미인지 궁금합니다.

모든 인터페이스를 사용하는 경우가 데코레이터 패턴은 아니고, 참조하는 객체에 대해 감싸져 있는 디자인이 데코레이더 패턴이다!
데이터 패턴 : 객체의 결합 을 통해 기능을 동적으로 유연하게 확장 할 수 있게 해주는 패턴
즉, 기본 기능에 추가할 수 있는 기능의 종류가 많은 경우에 각 추가 기능을 Decorator 클래스로 정의 한 후 필요한 Decorator 객체를 조합함으로써 추가 기능의 조합을 설계 하는 방식이다.

## 131p. 인스턴스 변수를 감싸고자 하는 객체로 설정하는 생성자란?
Mocha 인스턴스에는 Beverage의 레퍼런스가 들어있다. 다음과 같이 2가지가 필요하다.
1) 감싸고자 하는 음료를 저장하는 인스턴스 변수

2) 인스턴스 변수를 **감싸고자 하는 객체**로 설정하는 생성자

여기서 인스턴스 변수는 `this.beverge` 이고 감싸고자 하는 객체는 인자로 전달된 `Beverage beveragge`

```java
public Mocha(Beverage beverage){
	this.beverage = beverage
}
```
## 138p(139p). 특정 형식에 의존하는 클라이언트 코드(클라이언트가 구성 요소의 구체적인 형식에 의존하는 경우)의 경우?
- 특정 형식에 의존하는 클라이언트 코드에 데코레이터 패턴을 적용하면 안된다.
  - 데코레이터를 끼워넣어도 클라이언트 쪽에서는 데코레이터를 사용하고 있다는 것을 전혀 알 수 없다

133'p 무엇이든 물어보세요. 에 담겨있는 내용을 보면 더 깊게 이해할 수 있다.
| 구상 구성 요소로 어떤 작업을 처리하는 코드에 데코레이터 패턴을 적용하면 코드가 제대로 작동하지 않는다. 
| 만일 구상 구성 요소로 돌아가는 코드를 만들어야한다면 데코레이터 패턴 사용을 다시 한번 생각해봐야 한다.
