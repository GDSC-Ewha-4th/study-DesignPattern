# 객체지향 디자인패턴 스터디 - Chapter 04

<br/>

## 질문
### ❔[153] 굽는 방식이 달라진다거나 하는 일이 생긴다고 하였는데 그 부분이 잘 이해가되지 않습니다
✔️ 반대로 설명하자면, 추상 클래스를 상속 받아 사용하면 공통으로 메소드를 사용하기 때문에 굽는 방식이 달라진다거나 누락되거나 하지 않는다. 
각자 팩토리를 구현해 사용하면 메소드 등 내용이 달라질 수 있다는 말이다.

<br/>

### ❔[p168] "제품 클래스는 모두 똑같은 인터페이스를 구현해야 한다. 그래야 그 제품을 사용할 클래스에서 구상 클래스가 아닌 인터페이스의 레퍼런스로 객체를 참조할 수 있기 때문이다." -> 이 문장의 의미가 잘 이해되지 않습니다.
✔️ 구현이 아닌 인터페이스에 의존해야 한다는 디자인 원칙에 따라 제품 클래스를 똑같은 인터페이스로 구현해야 한다. 그렇게 함으로써 다양한 구상 클래스(서브 클래스)를 효율적으로 사용할 수 있다.
<br/>
ex)
```
Pizza pizza = new CheesePizza();
```
```
Pizza pizza = new PotatoPizza();
```

<br/>

### ❔[p174] "팩토리 메소드 패턴이 의존성 뒤집기 원칙을 준수하는 유일한 방법은 아니지만 적합한 방법 중 하나라고 할 수 있다." -> 그렇다면 의존성 뒤집기 원칙을 준수하는 다른 방법에는 무엇이 있을지 의논해보고 싶습니다.
✔️ 의존성 뒤집기 원칙(DIP)에 해당하는 패턴에는 팩토리 패턴(Factory pattern) 외 의존성 주입(Dependency Injection), 전략 패턴(Strategy pattern)이 있다.
<br/>
DIP에서 가장 중요한 건 상위 클래스(고수준 모듈)가 하위 클래스(저수준 모듈)에 의존해서는 안 되고, 둘 다 추상화에 의존해야 한다는 것이다. 이러한 의미에서 우리가 전에 배웠던 전략 패턴은 슈퍼 클래스가 구현된 서브 클래스인 구상 클래스에서 독립된다는 점에서 DIP에 해당한다.
<br/><br/>
❔ 그렇다면 "둘 다 추상화에 의존해야 한다"의 의미는 ?
<br/><br/>
✔️ "고수준 모듈은 저수준 모듈의 구현에 의존해서는 안 된다. 대신 저수준 모듈이 고수준 모듈에서 정의한 추상 타입에 의존해야 한다"는 뜻으로, 다음의 그림과 같다.
<br/><br/>
![image](https://user-images.githubusercontent.com/48647199/236744530-44fa2fa4-ea46-4085-8029-52ba5e02d4c5.png)
<br/><br/>
❔ 그렇다면 고수준 모듈과 저수준 모듈 둘 다 의존하는 추상 클래스는 **팩토리** 인가?
<br/><br/>
✔️ 팩토리 메소드 패턴에 한해서 해당한다.

<br/>

### ❔간단한 팩토리 vs 팩토리 메소드 패턴 vs 추상 팩토리 패턴
✔️ 공통점: 다 '팩토리'를 사용해 객체를 생성한다.
<br/><br/>
✔️ 차이점
  - 간단한 팩토리: 팩토리 메소드 패턴과 추상 팩토리 패턴의 base 가 되는 개념
  - 팩토리 메소드 패턴: 간단한 팩토리와 달리 팩토리 클래스가 객체를 생성하도록 '위임'한다. "완성된 하나의 객체"에 집중.
  - 추상 팩토리 패턴: '여러 종류의 관련 객체'를 생성할 수 있도록 한다. 팩토리 메소드 패턴을 보다 추상화 한 패턴. "요소들 하나하나"에 집중.
<br/><br/>
❔ ChatGPT의 답변
<br/><br/>
![image](https://user-images.githubusercontent.com/48647199/236747783-b6d6ce62-678e-4b5b-b76c-34b0fb5fc327.png)


<br/>
