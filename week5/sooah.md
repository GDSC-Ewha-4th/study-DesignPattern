# [객체지향 디자인패턴 스터디] Chapter 05. Singleton Pattern

<br/>

## 질문
### ❔[p209] 이 코드는 보일러가 비어있을 때만 돌아간다. 라는 주석이 잘 이해되지 않습니다.
✔️ 뒤에 나오는 다른 싱글턴 코드처럼, 인스턴스가 없는 상황에서 처음 생성할 때 이 메소드가 실행된다는 의미이다.

<br/>

### ❔ [p214] uniqueInstance 변수를 static으로 선언한 이유가 잘 와닿지 않습니다.
✔️ 음? 207p의 코드에서도 정적 변수를 사용했다. `synchronized` 선언할 때만 사용하는 건 아니다.
<br/><br/>
❔ 그렇다면 왜 정적 변수를 사용하는지?
<br/><br/>
✔️ 싱글턴 패턴에서는 하나의 인스턴스만 생성하기 때문에 클래스 내부에서도 이를 위해 정적 변수를 선언한 것이다.


<br/>

### ❔[p216] 동기화 블록 안에서도 다시 한 번 조건문으로 null 체크를 한 이유에 대해서도 얘기해보고 싶습니다.
✔️ 멀티스레드 일 때의 동기화 문제를 방지하기 위함이다. 동기화 블록 내에 들어간 뒤에 발생할 수 있는 동기화 문제를 막기 위해 블록 내에서도 조건문을 넣은 것이다.
<br/><br/>
❔ 근데 `synchronized` 가 사실 동기화 문제를 방지할 수 있게 하나의 스레드만 접근할 수 있는 거 아닌가? 그럼 동기화 블록 내에서는 조건문을 안 걸어도 되지 않나?
<br/><br/>
✔️ 첫 번째 조건문은 **동기화 블록**을 위한 조건문이고, 두 번째 조건문은 **인스턴스 생성**을 위한 조건문이다.
<br/><br/>

<br/>

### ❔개인적으로 플젝에서 싱글턴을 사용한 경험이 있으신지 궁금합니다 !!
✔️ (소현) 스프링 자체가 싱글톤을 지원하기 때문에 크게 의도하지는 않았다. 근데 리액트에서 axios를 생성할 때 싱글톤을 지원하는 기능을 활용해 성능을 개선한 적이 있다. 스프링에서 @Bean 으로 관리되는 건 다 싱글톤 컨테이너이다.
<br/><br/>
✔️ (현아) 코틀린에서 화면 관리를 할 때, 중복 호출을 방지하기 위해 싱글턴 패턴처럼 코드를 짠 적이 있었다.
<br/><br/>

<br/>

---

참고: https://velog.io/@akimcse/Kotlin-Deep-Dive-3.-클래스-생성자-by-companion-object-싱글턴-패턴-팩토리-메서드-패턴

